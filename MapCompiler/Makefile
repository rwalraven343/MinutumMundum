TARGETFILE=MapCompiler.exe
INSTALLDIR=Binaries

COMPILERCOMMAND=cl
LINKERCOMMAND=link

COMPILEROPTIONS=/c /MD /O2
LINKEROPTIONS=

INCLUDEDIRS=
LIBRARYDIRS=

SOURCEFILES=main.cpp mapgenerator.cpp mapparser.cpp tinystr.cpp tinyxml.cpp tinyxmlerror.cpp tinyxmlparser.cpp
OBJECTFILES=$(SOURCEFILES:.cpp=.obj)
LIBRARYFILES=

all: $(TARGETFILE)

$(TARGETFILE): $(OBJECTFILES)
	$(LINKERCOMMAND) $(LINKEROPTIONS) $(LIBRARYDIRS) $(OBJECTFILES) $(LIBRARYFILES) /OUT:$(TARGETFILE)

$(OBJECTFILES):
	$(COMPILERCOMMAND) $(COMPILEROPTIONS) $(INCLUDEDIRS) $(SOURCEFILES)

install: $(TARGETFILE)
	mkdir $(INSTALLDIR)
	copy $(TARGETFILE) $(INSTALLDIR)

clean:
	del $(TARGETFILE)
	del *.obj

uninstall:
	rmdir $(INSTALLDIR) /s /q
